= fb-live-comments-to-jamulus-pipe

A simple integration when broadcasting jam sessions using https://github.com/dtinth/jamcaster:[jamcaster] to Facebook Live:

* Sends Facebook comments into Jamulus chat.
* Updates Jamcaster’s client name to reflect current number of live viewers.

.Live viewer display
====
image::docs/images/views.png[]
====

.Live comments to Jamulus chat bridge
====
image::docs/images/cmt.png[]
====

== Prerequisites

* https://github.com/dtinth/jamulus/tree/dtinth:[My fork of Jamulus server] running with JSON-RPC on port 22222.
* Jamcaster running with JSON-RPC forwarded to port 22100.
* A Facebook Graph API Page Access Token with these permissions:
** `pages_show_list`
** `pages_read_engagement`
** `pages_read_user_content`

== Config

`config.json`:

[source,json]
----
{
  "accessToken": "…"
}
----

=== How to get a Facebook Page Access Token

. Go to https://developers.facebook.com/tools/explorer/[Graph API Explorer].
. Select the app to use.
. Inside **Permissions**, select the above permissions.
. Click **Generate Access Token** and select the page.
. Under **User or Page**, select the page.
. Copy the token.

## Running the script

[source,shell]
----
bash -c 'while true; do node index.js; sleep 45; done'
----